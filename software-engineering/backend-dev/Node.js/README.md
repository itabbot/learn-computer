# Node.js<!-- omit in toc -->

- [1. 快速开始](#1-快速开始)
  - [1.1. 相关资源](#11-相关资源)
  - [1.2. 定义](#12-定义)
  - [1.3. 背景](#13-背景)
  - [1.4. 应用场景](#14-应用场景)
  - [1.5. 尝试](#15-尝试)
- [2. 按需学习](#2-按需学习)
- [3. 系统学习](#3-系统学习)

## 1. 快速开始

### 1.1. 相关资源

[官方网站](https://nodejs.org) | [官方文档](https://nodejs.org/zh-cn/docs) | [GitHub](https://github.com/nodejs) | [NPM](https://www.npmjs.com) | [Google V8](https://v8.dev)  
[中文社区](https://cnodejs.org) | [特性兼容表](https://node.green)

### 1.2. 定义

Node.js 是一个基于 Google V8 引擎的 [JavaScript](../../web-frontend-dev/JavaScript) 运行时环境，用于在服务器端运行 JavaScript 代码。

Node.js 使用 npm（Node Package Manager）作为其默认的包管理工具。npm 提供了丰富的开源软件包供开发人员使用，并且可以方便地管理项目的依赖关系。

Node.js 采用非阻塞、事件驱动的单线程模型来提高性能：

- 非阻塞 I/O： 也就是说 Node.js 在进行一个 [I/O](../../../glossary/IO.md) 操作时，它不会等待结果返回再执行下一个操作，而是立即进行下一个操作。这样可以充分利用 CPU 的处理能力，避免线程阻塞，以提高系统的并发能力。
- 单线程： 相比于传统的为每个请求分配一个线程的多线程模型，Node.js 使用单[线程](../../../glossary/进程与线程.md)模型，利用单个线程来处理所有的请求，避免了线程创建、切换和销毁带来的性能开销。需要注意的是，Node.js 通过利用底层操作系统的多线程能力来支持并发 I/O 操作，但它暴露给开发者的编程接口仍然是单线程的。这样既降低了开发的复杂性，又提高了线程安全性和性能。
- 事件驱动： Node.js 在单个线程中执行事件循环，不断轮询事件队列，检查是否有待处理的事件，并执行相应的事件处理函数，使用高效的 V8 引擎执行 JavaScript 代码。当遇到 I/O 操作时，Node.js 将该操作交给底层操作系统进行处理，并继续处理后续的事件（异步非阻塞）。当 I/O 操作完成时，会将相应的事件推入事件队列，事件循环机制会相继触发调用事件处理函数来执行后续操作。需要注意的是，由于事件循环是单线程的，如果其中的某个事件处理函数执行的时候发生了阻塞操作（如长时间运行的计算），这会导致事件循环无法继续处理其他事件，造成整个应用程序的阻塞。因此，对于长时间运行的计算或其他耗时操作，应该采用异步方式进行处理，以充分发挥 Node.js 的非阻塞特性。

### 1.3. 背景

- 诞生： Node.js 最初由美国软件工程师 Ryan Dahl 于 2009 年编写，距第一个服务器端 JavaScript 环境 Netscape 的 LiveWire Pro Web 的推出大约 13 年。Node.js 最初的版本仅支持 Linux 和 Mac OS X。其开发和维护工作由 Dahl 本人领导，而他所在的 Joyent 公司也提供了赞助。
- 引入 NPM： 2010 年 1 月，为 Node.js 环境引入了一个名为 npm 的包管理器。包管理器使程序员可以更轻松地发布和共享 Node.js 包的源代码，并旨在简化包的安装、更新和卸载。
- 支持 Windows： 2011 年 6 月，微软和 Joyent 合作实现了 Node.js 的原生 Windows 版本。第一个支持 Windows 的 Node.js 版本于 2011 年 7 月发布。
- 领导者变更： 2012 年 1 月，Dahl 辞职，提拔同事兼 npm 创建者 Isaac Schlueter 来管理该项目。 2014 年 1 月，Schlueter 宣布 Timothy J. Fontaine 将领导该项目。
- 出现分支版本 io.js： 由于长期对 Joyent 的管理感到不满，Node.js 核心开发者 Fedor Indutny 在 2014 年 12 月制作了分支版本，并起名 “io.js”。与 Node.js 相对的是，io.js 采用开放管理模式进行管理，并计划始终采用最新版的 V8 引擎。
- Node.js 和 io.js 合并： 为了在用户、厂商和开发者之间获取平衡，Node.js 基金会于 2015 年初成立。基金会得到了 IBM、Intel、微软、Joyent 等公司的支持。6 月，Node.js 和 io.js 开发者社区共同决定合并到 Node.js 基金会之下。同年 9 月，Node 4.0 发布，Node.js 和 io.js 正式合并。4.0 版引入了 ES6 的语言特性和“长期支持版本”的发布周期。到了 2016 年，io.js 宣布不再发布新版本，并建议开发者换回 Node.js。
- 2019 年，JS 基金会和 Node.js 基金会合并成立 OpenJS 基金会。

### 1.4. 应用场景

- Web 服务器： Node.js 可以作为高性能的 Web 服务器运行，并处理大量并发请求。它与框架如 Express、Koa、Hapi 等一起使用，用于构建 Web 应用程序和 API。
- 实时应用程序： Node.js 通过其单线程的事件循环和 WebSocket 支持，非常适合构建实时应用程序，如聊天应用、协同编辑工具、实时游戏等。
- 命令行工具： Node.js 可以用于开发命令行应用，用于自动化任务、构建工具、脚本等。它提供了易于使用的文件系统和网络模块，方便与操作系统进行交互。
- 数据流处理： Node.js 适合处理大量的数据流，例如日志处理、大规模数据导入和导出等。它的异步非阻塞特性使得能够高效地处理大量数据。
- 微服务架构： 由于 Node.js 轻量并具备高性能，它被广泛用于构建微服务架构。它可以轻松集成其他服务、高效地处理请求和响应，并通过消息队列通信。
- 单页应用程序（SPA）的服务器端渲染： Node.js 可以用于渲染服务器端渲染（SSR）的单页应用程序。它可以处理来自客户端的请求并生成已经渲染好的 HTML，然后返回给客户端，从而改善首次加载时间和搜索引擎优化（SEO）。
- 高可用代理服务器： Node.js 可以用作反向代理服务器，用于负载均衡、缓存、请求转发和路由。

### 1.5. 尝试

略

## 2. 按需学习

- [问题：Node.js 单线程模型无法充分利用多核 CPU](on-demand/Nodejs单线程模型无法充分利用多核CPU.md)

## 3. 系统学习
