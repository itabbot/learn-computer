# 配置信息存取实践

[参考资料](https://github.com/goldbergyoni/nodebestpractices#-15-use-environment-aware-secure-and-hierarchical-config) | [实践工程](https://github.com/fooins/insbiz/blob/main/src/libraries/configuration-provider/)

目前比较流行的配置工具包有：[convict](https://www.npmjs.com/package/convict)、[config](https://www.npmjs.com/package/config)、[dotenv](https://www.npmjs.com/package/dotenv)、[rc](https://www.npmjs.com/package/rc)、[nconf](https://www.npmjs.com/package/nconf)。

需要保存为配置项的数据通常有两类，一是敏感类信息，比如数据库密码、接口密钥等；二是根据环境的不同使用的值不同的数据。为了让配置信息的存取更加的便捷，一般需要留意以下几个方面：

1. 相同的配置项在不同的运行环境中应该自动切换配置数据来源。

2. 默认读取配置文件的配置数据，也可以使用环境变量或命令行参数指定值来合并和覆盖。

3. 支持分层存储，比如分开多个文件，或文件中使用多层属性。

4. 必要时，可以使用统一配置中心管理配置数据，然后在各系统接入以获取。

5. 启动服务时，如果配置信息有误，应该及时终止并反馈。

6. 对每个配置项进行注释，说明其作用和注意事项。
