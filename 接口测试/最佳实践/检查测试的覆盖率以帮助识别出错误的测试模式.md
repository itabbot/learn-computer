# 检查测试的覆盖率以帮助识别出错误的测试模式

通过检查测试的覆盖率，可以有效的帮助我们识别出错误的测试模式。比如一些很少命中的条件语句块或 catch 区域，都有一定的潜在风险：

```javascript
try {
  // 如果测试过程中 type 一直都是 1
  // 那意味着其它两个条件的代码都没有覆盖到，存在一定的风险
  if (type === 1) {
    // ...
  } else if (type === 2) {
    // ...
  } else {
    // ...
  }
} catch (error) {
  // 通常情况下 catch 区域也经常没有被测试覆盖到
  // ...
}
```

对于 JavaScript 测试工具 Jest，可以启用 [collectCoverage](https://jestjs.io/zh-Hans/docs/configuration#collectcoverage-boolean) 功能，它将输出类似这样的覆盖情况报告：

```shell
----------|---------|----------|---------|---------|-------------------
File      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------|---------|----------|---------|---------|-------------------
All files |      75 |      100 |     100 |      75 |
 xxx.js   |      75 |      100 |     100 |      75 | 5
----------|---------|----------|---------|---------|-------------------
```
