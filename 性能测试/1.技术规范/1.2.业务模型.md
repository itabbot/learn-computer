# 业务模型

业务模型在性能测试中起着关键性的作用：

- 不同的业务之间，业务量和所消耗的系统资源都可能差异很大，如果业务的选取或占比的划分与实际情况相差较大，可能导致测试结果没有任何参考价值，并且容易误导对系统处理能力的判断；
- 有些风险较高的业务，可能业务量占比很低，但一旦突变，对系统影响也是致命的，这些业务在性能测试中也需要格外关注。

应该选取业务量高的、经常使用的、有风险的、未来有增长趋势的业务作为系统的典型业务。已经上线的系统可以通过高峰时段历史业务量和生产问题来评估，对于即将上线的系统可以通过调研和单交易资源消耗的结果来评估。

已上线的系统：

- 搜集生产上不同高峰时间段的业务种类和业务量，如果不同时间段的业务种类和业务量有很大的差异，则必须有多个业务模型，差异不大的，可以只用一个业务模型。
- 搜集生产上高峰时间段资源消耗和资源异常的时间点，从中捕获资源消耗高和异常的原因，可能是由于某种 “不起眼” 的业务导致。
- 搜集生产问题进行分析，如果是由于某种业务导致而且以前性能测试的时候忽略此笔业务，那么这笔业务的风险是非常大的，需要后续性能测试都需要将此业务加入到业务模型中。

未上线的系统：

- 通过调研，确定业务种类和业务占比。
- 通过调研，确定是否在业务促销等活动中，是否有突变的可能。
- 通过测试，确定每笔业务的资源消耗，如果某些业务虽然占比低，但资源消耗非常大，那么需要适当的调整此业务占比。
