# 中间件指标

常用的中间件例如 Tomcat、Weblogic 等指标主要包括 JVM、ThreadPool、JDBC，具体如下：

- GC 频率不能频繁，特别是 FULL GC 更不能频繁，一般情况下系统性能较好的情况下，JVM 最小堆大小和最大堆大小分别设置 1024 M 比较合适。
- 当前正在运行的线程数不能超过设定的最大值。一般情况下系统性能较好的情况下，线程数最小值设置 50 和最大值设置 200 比较合适。
- 当前运行的 JDBC 连接数不能超过设定的最大值。一般情况下系统性能较好的情况下，JDBC 最小值设置 50 和最大值设置 200 比较合适。

| 一级指标   | 二级指标               | 单位         | 解释                        |
| ---------- | ---------------------- | ------------ | --------------------------- |
| GC         | GC 频率                | 每秒多少次   | Java 虚拟机垃圾部分回收频率 |
| GC         | Full GC 频率           | 每小时多少次 | Java 虚拟机垃圾完全回收频率 |
| GC         | Full GC 平均时长       | 秒           | 用于垃圾完全回收的平均时长  |
| GC         | Full GC 最大时长       | 秒           | 用于垃圾完全回收的最大时长  |
| GC         | 堆使用率               | 百分比       | 堆使用率                    |
| ThreadPool | Active Thread Count    | 个           | 活动的线程数                |
| ThreadPool | Pending User Request   | 个           | 处于排队的用户请求个数      |
| JDBC       | JDBC Active Connection | 个           | JDBC 活动连接数             |
